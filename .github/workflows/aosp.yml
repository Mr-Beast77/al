name: aosp
on:
  push:
  workflow_dispatch:
jobs:
  job1:
    name: aosp
    runs-on: ubuntu-20.04
    strategy:
      matrix:
        parts: [init, bootimage]
    env:
      parts: ${{ matrix.parts }}
    steps:
    - uses: actions/checkout@v2
    - name: parts
      run: |
        echo $build_part
    - name: slim
      run: |
       time ./slim &
    - name: swap
      run: |
       time ./swap &
    - name: sync
      run: |
       ./sync
    - name: build
      run: |
       ./build
